/**
 * Created by HoangTD on 4/19/2016.
 */
$(function(){
    var headers=[ ""], rows={}
    $.each(data.jsondata,function(clientIdx,item){
        headers.push(item.label );
        $.each( item.data,function(i,arr){
            if( !rows[arr[0]]){

                rows[arr[0]]=createPlaceHolderArray( data.jsondata.length);
            }

            rows[arr[0]][clientIdx]=arr[1];
        })
    })
    $('body').append('<pre>'+ JSON.stringify(rows, null, ' '));

    var rowHtml='<tr><th>'+headers.join('</th><th>')+'</th></tr>';
    $.each(rows,function(key, arr){
        rowHtml+='<tr><td>'+key+'</td>';
        rowHtml +='<td>'+arr.join('</td><td>')+'</td></tr>';

    })

    $('#table').html(rowHtml)
});

function createPlaceHolderArray( numCols){
    var placeholder='N/A', res=[];
    while(numCols){
        res.push(placeholder);
        numCols--;
    }
    return res;

}